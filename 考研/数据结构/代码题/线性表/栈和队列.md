### ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆ

```cpp
// ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆ
class MyQueue {
private:
	std::stack<int> in, out; // ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªè¾“å…¥æ ˆå’Œä¸€ä¸ªè¾“å‡ºæ ˆ

	// å°†è¾“å…¥æ ˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°è¾“å‡ºæ ˆï¼Œä»¥å®ç°é˜Ÿåˆ—çš„FIFOç‰¹æ€§
	void inToOut() {
		if (out.empty()) {          // å½“è¾“å‡ºæ ˆä¸ºç©ºæ—¶
			while (!in.empty()) {   // å½“è¾“å…¥æ ˆä¸ä¸ºç©ºæ—¶
				out.push(in.top()); // å°†è¾“å…¥æ ˆé¡¶å…ƒç´ å‹å…¥è¾“å‡ºæ ˆ
				in.pop();           // å¼¹å‡ºè¾“å…¥æ ˆé¡¶å…ƒç´ 
			}
		}
	}

public:
	MyQueue() {}

	// å…¥é˜Ÿæ“ä½œ
	void push(int x) {
		in.push(x); // å°†å…ƒç´ å‹å…¥è¾“å…¥æ ˆ
		inToOut(); // è°ƒç”¨inToOutæ–¹æ³•ï¼Œå°†è¾“å…¥æ ˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°è¾“å‡ºæ ˆ
	}

	// å‡ºé˜Ÿæ“ä½œ
	int pop() {
		inToOut(); // è°ƒç”¨inToOutæ–¹æ³•ï¼Œå°†è¾“å…¥æ ˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°è¾“å‡ºæ ˆ
		int front = out.top(); // è·å–è¾“å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå³é˜Ÿåˆ—çš„é˜Ÿé¦–å…ƒç´ 
		out.pop();             // å¼¹å‡ºè¾“å‡ºæ ˆé¡¶å…ƒç´ 
		return front;          // è¿”å›é˜Ÿé¦–å…ƒç´ 
	}

	// è·å–é˜Ÿé¦–å…ƒç´ 
	int peek() {
		inToOut(); // è°ƒç”¨inToOutæ–¹æ³•ï¼Œå°†è¾“å…¥æ ˆä¸­çš„å…ƒç´ ç§»åŠ¨åˆ°è¾“å‡ºæ ˆ
		return out.top(); // è¿”å›è¾“å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå³é˜Ÿåˆ—çš„é˜Ÿé¦–å…ƒç´ 
	}

	// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
	bool empty() {
		return in.empty() && out.empty();
	} // å½“è¾“å…¥æ ˆå’Œè¾“å‡ºæ ˆéƒ½ä¸ºç©ºæ—¶ï¼Œé˜Ÿåˆ—ä¸ºç©º
};
```

### ä½¿ç”¨æ ˆå®ç°é˜Ÿåˆ—

```cpp
// ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆ
class MyStack {
private:
	std::queue<int> q; // ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—

public:
	MyStack() {}

	// å…¥æ ˆæ“ä½œ
	void push(int x) {
		int n = q.size(); // è·å–é˜Ÿåˆ—çš„å¤§å°
		q.push(x);        // å°†å…ƒç´ å…¥é˜Ÿ
		for (int i = 0; i < n;
		     i++) { // å°†é˜Ÿåˆ—ä¸­çš„å‰nä¸ªå…ƒç´ ç§»åˆ°é˜Ÿå°¾ï¼Œä»¥å®ç°æ ˆçš„LIFOç‰¹æ€§
			q.push(q.front()); // å°†é˜Ÿé¦–å…ƒç´ å…¥é˜Ÿ
			q.pop();           // å¼¹å‡ºé˜Ÿé¦–å…ƒç´ 
		}
	}

	// å‡ºæ ˆæ“ä½œ
	int pop() {
		int top = q.front(); // è·å–é˜Ÿé¦–å…ƒç´ ï¼Œå³æ ˆé¡¶å…ƒç´ 
		q.pop();             // å¼¹å‡ºé˜Ÿé¦–å…ƒç´ 
		return top;          // è¿”å›æ ˆé¡¶å…ƒç´ 
	}

	// è·å–æ ˆé¡¶å…ƒç´ 
	int top() { return q.front(); } // è¿”å›é˜Ÿé¦–å…ƒç´ ï¼Œå³æ ˆé¡¶å…ƒç´ 

	// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º
	bool empty() { return q.empty(); } // å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ ˆä¸ºç©º
};
```

### ğŸŒŸå›ºå®šæ•°ç»„å®ç°åŒç«¯é˜Ÿåˆ— (å¾ªç¯é˜Ÿåˆ—)

```cpp
class Deque {
private:
	int front, rear, size;  // åˆ†åˆ«è¡¨ç¤ºé˜Ÿåˆ—çš„å‰ç«¯ã€åç«¯å’Œå½“å‰å¤§å°
	unsigned capacity;      // é˜Ÿåˆ—çš„å®¹é‡,ç”¨æ¥åˆ¤æ–­åŒç«¯é˜Ÿåˆ—èƒ½å¦ç»§ç»­æ·»åŠ å…ƒç´ æˆ–è€…åˆ é™¤å…ƒç´ 
	int* array;             // ç”¨äºå­˜å‚¨é˜Ÿåˆ—å…ƒç´ çš„æ•°ç»„

public:
	// æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–é˜Ÿåˆ—
	Deque(unsigned c) {
		front = size = 0;           // åˆå§‹åŒ–å‰ç«¯ç´¢å¼•å’Œå¤§å°ä¸º0
		capacity = c;               // è®¾ç½®é˜Ÿåˆ—å®¹é‡
		rear = capacity - 1;        // åˆå§‹åŒ–åç«¯ç´¢å¼•
		array = new int[capacity];  // åˆ›å»ºæ•°ç»„
	}

	// æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦å·²æ»¡
	bool isFull() { return (size == capacity); }

	// æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
	bool isEmpty() { return (size == 0); }

	// åœ¨é˜Ÿåˆ—å‰ç«¯æ·»åŠ å…ƒç´ 
	void push_front(int key) {
		if (isFull())
			return;           // å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œç›´æ¥è¿”å›
		front = (front - 1+ capacity) % capacity;  // æ›´æ–°å‰ç«¯ç´¢å¼•
		array[front] = key;                         // åœ¨å‰ç«¯æ·»åŠ å…ƒç´ 
		size = size + 1;                            // æ›´æ–°é˜Ÿåˆ—å¤§å°
	}

	// ä»é˜Ÿåˆ—å‰ç«¯åˆ é™¤å…ƒç´ 
	void pop_front() {
		if (isEmpty())
			return;                         // å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›
		front = (front + 1) % capacity;     // æ›´æ–°å‰ç«¯ç´¢å¼•
		size = size - 1;                    // æ›´æ–°é˜Ÿåˆ—å¤§å°
	}

	// åœ¨é˜Ÿåˆ—åç«¯æ·»åŠ å…ƒç´ 
	void push_back(int key) {
		if (isFull())
			return;                     // å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œç›´æ¥è¿”å›
		rear = (rear + 1) % capacity;   // æ›´æ–°åç«¯ç´¢å¼•
		array[rear] = key;              // åœ¨åç«¯æ·»åŠ å…ƒç´ 
		size = size + 1;                // æ›´æ–°é˜Ÿåˆ—å¤§å°
	}

	// ä»é˜Ÿåˆ—åç«¯åˆ é™¤å…ƒç´ 
	void pop_back() {
		if (isEmpty())
			return;         // å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›
		rear = (rear - 1+ capacity) % capacity;    // æ›´æ–°åç«¯ç´¢å¼•
		size = size - 1;                            // æ›´æ–°é˜Ÿåˆ—å¤§å°
	}
};
```

### æœ€å°æ ˆçš„å®ç°

```cpp
class MinStack {
private:
	static const int MAXN = 8001; // å®šä¹‰æ ˆçš„æœ€å¤§å®¹é‡

	std::array<int, MAXN> data; // ç”¨äºå­˜å‚¨æ ˆä¸­çš„å…ƒç´ 
	std::array<int, MAXN> min;  // ç”¨äºå­˜å‚¨æ¯ä¸ªå…ƒç´ å…¥æ ˆæ—¶çš„æœ€å°å€¼
	int size;                   // æ ˆå½“å‰çš„å¤§å°

public:
	MinStack()
	    : size(0) {} // æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ ˆçš„å¤§å°ä¸º0

	void push(int val) {
		data[size] = val; // å°†æ–°å…ƒç´ æ”¾å…¥æ ˆé¡¶
		// å¦‚æœæ ˆä¸ºç©ºæˆ–æ–°å…ƒç´ å€¼å°äºç­‰äºå½“å‰æœ€å°å€¼ï¼Œåˆ™æ›´æ–°æœ€å°å€¼æ ˆ
		if (size == 0 || val <= min[size - 1]) {
			min[size] = val;
		} else {
			// å¦åˆ™ï¼Œæœ€å°å€¼æ ˆé¡¶å¤åˆ¶å‰ä¸€ä¸ªæœ€å°å€¼
			min[size] = min[size - 1];
		}
		size++; // æ ˆå¤§å°å¢åŠ 
	}

	void pop() { size--; } // å‡ºæ ˆæ“ä½œï¼Œæ ˆå¤§å°å‡å°‘

	int top() { return data[size - 1]; } // è·å–æ ˆé¡¶å…ƒç´ 

	int getMin() { return min[size - 1]; } // è·å–æ ˆä¸­çš„æœ€å°å…ƒç´ 
};
```

## åŒç«¯é˜Ÿåˆ—

### ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°çš„å¾ªç¯åŒç«¯é˜Ÿåˆ—

```cpp
#include <deque>
using namespace std;

// ç±»åå’Œæ–¹æ³•åä¸Javaç‰ˆæœ¬ç›¸å¯¹åº”
class MyCircularDeque1 {
public:
    // åŒå‘é“¾è¡¨ç”¨äºå­˜å‚¨å…ƒç´ 
    deque<int> deque;
    int size;  // å½“å‰é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°
    int limit; // é˜Ÿåˆ—çš„å®¹é‡ä¸Šé™

    // æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–é˜Ÿåˆ—çš„å®¹é‡ä¸ºk
    MyCircularDeque1(int k) {
        size = 0;
        limit = k;
    }

    // åœ¨é˜Ÿåˆ—å‰æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool insertFront(int value) {
        if (isFull()) {
            return false;
        } else {
            deque.push_front(value);
            size++;
            return true;
        }
    }

    // åœ¨é˜Ÿåˆ—å°¾æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool insertLast(int value) {
        if (isFull()) {
            return false;
        } else {
            deque.push_back(value);
            size++;
            return true;
        }
    }

    // åˆ é™¤é˜Ÿåˆ—å‰é¢çš„ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool deleteFront() {
        if (isEmpty()) {
            return false;
        } else {
            deque.pop_front();
            size--;
            return true;
        }
    }

    // åˆ é™¤é˜Ÿåˆ—å°¾éƒ¨çš„ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool deleteLast() {
        if (isEmpty()) {
            return false;
        } else {
            deque.pop_back();
            size--;
            return true;
        }
    }

    // è·å–é˜Ÿåˆ—å‰é¢çš„å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› -1
    int getFront() {
        if (isEmpty()) {
            return -1;
        } else {
            return deque.front();
        }
    }

    // è·å–é˜Ÿåˆ—å°¾éƒ¨çš„å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› -1
    int getRear() {
        if (isEmpty()) {
            return -1;
        } else {
            return deque.back();
        }
    }

    // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
    bool isEmpty() {
        return size == 0;
    }

    // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦å·²æ»¡
    bool isFull() {
        return size == limit;
    }
};


```

### ä½¿ç”¨æ•°ç»„å®ç°çš„å¾ªç¯åŒç«¯é˜Ÿåˆ—

```cpp
#include <vector>
using namespace std;

class MyCircularDeque2 {
public:
    vector<int> deque;  // ä½¿ç”¨æ•°ç»„å­˜å‚¨å…ƒç´ 
    int l, r;           // lä¸ºé˜Ÿåˆ—å¤´æŒ‡é’ˆï¼Œrä¸ºé˜Ÿåˆ—å°¾æŒ‡é’ˆ
    int size;           // å½“å‰é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°
    int limit;          // é˜Ÿåˆ—çš„å®¹é‡ä¸Šé™

    // æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–é˜Ÿåˆ—çš„å®¹é‡ä¸ºk
    MyCircularDeque2(int k) {
        deque = vector<int>(k); // åˆå§‹åŒ–å¤§å°ä¸ºkçš„æ•°ç»„
        l = r = size = 0;
        limit = k;
    }

    // åœ¨é˜Ÿåˆ—å‰æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool insertFront(int value) {
        if (isFull()) {
            return false;
        } else {
            if (isEmpty()) {
                // å¦‚æœæ˜¯ç©ºé˜Ÿåˆ—ï¼Œç›´æ¥å°†lå’ŒræŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ 
                l = r = 0;
                deque[0] = value;
            } else {
                // å‘å‰ç§»åŠ¨læŒ‡é’ˆï¼Œå¹¶æ’å…¥å€¼
                l = (l == 0) ? (limit - 1) : (l - 1);
                deque[l] = value;
            }
            size++;
            return true;
        }
    }

    // åœ¨é˜Ÿåˆ—å°¾æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool insertLast(int value) {
        if (isFull()) {
            return false;
        } else {
            if (isEmpty()) {
                // å¦‚æœæ˜¯ç©ºé˜Ÿåˆ—ï¼Œç›´æ¥å°†lå’ŒræŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ 
                l = r = 0;
                deque[0] = value;
            } else {
                // å‘åç§»åŠ¨ræŒ‡é’ˆï¼Œå¹¶æ’å…¥å€¼
                r = (r == limit - 1) ? 0 : (r + 1);
                deque[r] = value;
            }
            size++;
            return true;
        }
    }

    // åˆ é™¤é˜Ÿåˆ—å‰é¢çš„ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool deleteFront() {
        if (isEmpty()) {
            return false;
        } else {
            // ç§»åŠ¨læŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®
            l = (l == limit - 1) ? 0 : (l + 1);
            size--;
            return true;
        }
    }

    // åˆ é™¤é˜Ÿåˆ—å°¾éƒ¨çš„ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› falseï¼›å¦åˆ™è¿”å› true
    bool deleteLast() {
        if (isEmpty()) {
            return false;
        } else {
            // å‘å‰ç§»åŠ¨ræŒ‡é’ˆ
            r = (r == 0) ? (limit - 1) : (r - 1);
            size--;
            return true;
        }
    }

    // è·å–é˜Ÿåˆ—å‰é¢çš„å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› -1
    int getFront() {
        if (isEmpty()) {
            return -1;
        } else {
            return deque[l];
        }
    }

    // è·å–é˜Ÿåˆ—å°¾éƒ¨çš„å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼Œè¿”å› -1
    int getRear() {
        if (isEmpty()) {
            return -1;
        } else {
            return deque[r];
        }
    }

    // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
    bool isEmpty() {
        return size == 0;
    }

    // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦å·²æ»¡
    bool isFull() {
        return size == limit;
    }
};

```
